{% extends 'base.html' %}

{% block title %}{{ product.name }} - 商品详情{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <!-- 商品信息卡片 -->
            <div class="card shadow-sm p-4">
                <div class="row g-0">
                    <!-- 左侧: 商品图片 -->
                    <div class="col-md-5">
                        <img src="{{ product.image_url if product.image_url else 'https://via.placeholder.com/500x500' }}"
                             class="img-fluid rounded"
                             alt="{{ product.name }}"
                             style="max-height: 500px; object-fit: cover;">
                    </div>

                    <!-- 右侧: 商品详细信息 -->
                    <div class="col-md-7">
                        <div class="card-body">
                            <h2 class="card-title">{{ product.name }}</h2>
                            <p class="card-text text-muted">价格: <span class="fw-bold text-danger">¥{{ product.price }}</span></p>
                            <hr>

                            <h5 class="mb-3">卖家信息</h5>
                            <ul class="list-unstyled">
                                <li><strong>卖家:</strong> {{ product.user.username }}</li>
                                <li><strong>微信:</strong> {{ product.user.weixin }}</li>
                                <li><strong>电话:</strong> {{ product.user.mobile }}</li>
                            </ul>

                            <div class="mt-4">
<a href="{{ url_for('shop.checkout', product_id=product.id) }}" class="btn btn-success btn-lg w-100">我要购买</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 商品描述（如果有的话） -->
            <div class="card shadow-sm p-4 mt-4">
                <h4 class="mb-3">商品描述</h4>
                <p>{{ product.description if product.description else '该商品暂无描述信息。' }}</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}